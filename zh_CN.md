## Staking in everiToken

everiToken将从4.x版本开始支持staking。 这将允许采用新的共识，包括**DPOS**（Delegated Proof-Of-Stake）和**POS**（Proof-Of-Stake）。 通证持有者将能够投入他们的EVT以投票给验证者。 获得最高投票的21个验证器将被选为**区块生产者**节点。其他**非区块生产者**验证器将能够接收和验证块并参与链上随机数生成。

在everiToken中运行验证器节点类似于运行投资基金。 每个验证者的初始净值将始终等于每股1 EVT。 staking的操作类似于以净值购买这些股票。 例如，如果您将1000个EVT存入一个净值为每股1 EVT的验证器，那么您将获得1000个该验证器的股票。

所有投入的EVT将进入一个名为**Stake Pool**的资金池，整个池的ROI将取决于两个因素：1)资金池的总量和 2)创建资金池以来的时间。 随着资金池的数量增加以及创建时间过去，投资回报率将下降。

资金池的ROI表：

![ROI](/imgs/developers/ROIs.png)

投资回报率公式为： ![formula-1](/imgs/developers/staking-formula1.svg)

> 目前**r**为50，**t**为-0.67，**q**为10，**w**为-0.9; **A**是池内EVT的总金额，**D**是自创建资金池以来的总天数。

对于验证器，如果节点保持有效运行，那么他将每隔几个小时收到一个资金池的ROI到他的净值。 这意味着一个验证器的**收益率曲线**代表其节点运行的稳定性，并且投资者会选择符合这些标准的优秀验证器，这将有助于他获得更多的EVT。

与以适当数量购买股票的股权操作不同，unstaking类似于撤回股票。 您的购买和提取之间的净值差异是每股的利润。 例如，如果您以每股1.5 EVT净值提取1000股，并且您购买的净值为每股1 EVT，则您的最终利润等于500 EVT。

### 验证器

每个人都可以使用`newvalidator`动作来注册一个新的验证器，并且需要在进入网络之前将至少100,000个EVT投入到新的验证器中并从投注池获得利润。 每个投资者都可以使用EVT购买新验证器的股票。 对于保证金额较小的验证人，将有一些额外的投资回报率。

### 持股人

每个EVT持有者都可以通过使用“staketkns”动作将其代币存入任何有效的验证器。 在放样时有两种类型的选择：活期和定期。 活期股份可以随时撤回，而定期股份则被承诺锁定一段时间。 根据期限，股票被锁定的时间越长，投资回报率越高。

额外的投资回报率公式为： ![formula-2](/imgs/developers/staking-formula2.svg)

> 目前**r**为300，**t**为5; **D**是承诺锁定的总天数

`unstaketkns`动作用于撤销活期股票。 对于定期股份，所需的操作是“toactivetkns”操作以转换为活期。